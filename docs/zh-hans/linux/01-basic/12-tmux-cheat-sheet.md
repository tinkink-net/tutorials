# Tmux 速查表

<Validator lang="zh-hans" :platform-list="['Ubuntu 22.04','Debian 11.6','CentOS 7.9','MacOS 13.2']" date="2023-05-01" />

这个速查表提供了最常用的tmux命令的快速参考。所有命令都需要先按前缀键（默认为`Ctrl+b`），然后再按命令键。

## 会话管理

| 命令 | 描述 |
|---------|-------------|
| `tmux` | 启动一个新的tmux会话 |
| `tmux new -s name` | 启动一个新的命名会话 |
| `tmux ls` | 列出所有会话 |
| `tmux attach -t name` | 连接到一个命名会话 |
| `tmux kill-session -t name` | 终止一个命名会话 |
| `tmux kill-server` | 终止所有会话和tmux服务器 |

## 前缀键组合

以下所有命令都需要先按前缀键（默认为`Ctrl+b`）：

### 会话命令
| 键 | 描述 |
|-----|-------------|
| `d` | 从当前会话分离 |
| `s` | 列出会话 |
| `$` | 重命名会话 |
| `(` | 切换到上一个会话 |
| `)` | 切换到下一个会话 |

### 窗口命令
| 键 | 描述 |
|-----|-------------|
| `c` | 创建新窗口 |
| `n` | 下一个窗口 |
| `p` | 上一个窗口 |
| `w` | 列出窗口 |
| `,` | 重命名当前窗口 |
| `&` | 关闭当前窗口 |
| `0-9` | 切换到窗口编号 |

### 窗格命令
| 键 | 描述 |
|-----|-------------|
| `%` | 垂直分割窗格 |
| `"` | 水平分割窗格 |
| `o` | 切换到下一个窗格 |
| `;` | 切换到上一个活动窗格 |
| `x` | 关闭当前窗格 |
| `z` | 切换窗格缩放 |
| `{` | 将当前窗格向左移动 |
| `}` | 将当前窗格向右移动 |
| `space` | 在窗格布局之间切换 |
| `q` | 显示窗格编号 |
| `Up/Down/Left/Right` | 切换到指定方向的窗格（鼠标模式下） |

### 复制模式
| 键 | 描述 |
|-----|-------------|
| `[` | 进入复制模式 |
| `]` | 粘贴复制的文本 |
| `PgUp/PgDn` | 在复制模式中上/下翻页 |
| `/` | 向前搜索 |
| `?` | 向后搜索 |

## 高级窗格管理

| 命令 | 描述 |
|---------|-------------|
| `Ctrl+b Ctrl+o` | 向前旋转窗格 |
| `Ctrl+b !` | 将窗格转换为窗口 |
| `Ctrl+b Ctrl+Left/Right/Up/Down` | 调整窗格大小 |
| `Ctrl+b Alt+1` | 均匀分布窗格 |
| `Ctrl+b q` | 显示窗格编号（临时） |

## 复制模式导航（Vim风格）

在复制模式下（`Ctrl+b [`），你可以使用vim风格的导航：

| 键 | 描述 |
|-----|-------------|
| `h/j/k/l` | 左/下/上/右移动 |
| `w/W` | 移动到下一个单词/下一个单词的开始 |
| `b/B` | 移动到上一个单词/上一个单词的开始 |
| `0/^` | 移动到行首 |
| `$` | 移动到行尾 |
| `H/M/L` | 移动到屏幕顶部/中部/底部 |
| `gg/G` | 移动到缓冲区顶部/底部 |
| `Ctrl+u/d` | 上/下移动半页 |
| `Ctrl+b/f` | 上/下翻页 |

## 复制模式操作

| 键 | 描述 |
|-----|-------------|
| `Space` | 开始选择 |
| `Enter` | 复制选择 |
| `Esc` | 清除选择 |
| `v` | 开始字符模式选择 |
| `V` | 开始行模式选择 |
| `Ctrl+v` | 开始块模式选择 |

## 自定义技巧

### 更改前缀键
要将前缀键从`Ctrl+b`更改为`Ctrl+a`（类似GNU Screen），将以下内容添加到`~/.tmux.conf`：
```bash
unbind C-b
set -g prefix C-a
bind C-a send-prefix
```

### 启用鼠标支持
```bash
set -g mouse on
```

### 重新加载配置
修改`~/.tmux.conf`后：
```sh
Ctrl+b : source-file ~/.tmux.conf
```

## 状态栏自定义

`~/.tmux.conf`中常见的状态栏自定义：

```bash
# 更改状态栏颜色
set -g status-style bg=blue,fg=white

# 显示系统状态
set -g status-right "#[fg=white,bg=black] #H #[fg=white,bg=blue] %H:%M %d-%b-%y "

# 使用更好的格式显示窗口列表
set -g status-justify centre
setw -g window-status-format "#I:#W#F"
setw -g window-status-current-format "#I:#W#F"
```

## 快速参考摘要

- **前缀键**：`Ctrl+b`（默认）
- **创建会话**：`tmux new -s session_name`
- **分离**：`Ctrl+b d`
- **重新连接**：`tmux attach -t session_name`
- **新窗口**：`Ctrl+b c`
- **分割窗格**：`Ctrl+b %`（垂直）或`Ctrl+b "`（水平）
- **切换窗格**：`Ctrl+b o`或方向键（鼠标模式下）
- **复制模式**：`Ctrl+b [`
- **粘贴**：`Ctrl+b ]`

这个速查表涵盖了最基本的tmux命令。有了这些，你将能够高效地管理多个终端会话和工作流程。