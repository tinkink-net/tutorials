# VSCode中的端口轉發

VSCode提供了一個端口轉發功能，允許你從外部世界訪問本地或遠程開發環境。這個功能對於測試和調試非常有用。

## 背景

我們通常在本地環境或遠程開發環境中進行開發，這些環境無法被公開訪問。但在某些情況下，我們需要從外部世界訪問本地或遠程開發環境。例如，我們需要與第三方服務集成，或者我們需要從不在同一網絡上的設備測試網頁或服務。

## 如何使用

首先，啟動你的本地開發環境，確保服務正在運行。它將監聽特定端口，例如`localhost:8080`。

然後，在VSCode中，在底部面板中找到"端口"功能。你會看到一個"轉發端口"按鈕。點擊它，並輸入你想要轉發的端口號。例如，`8080`。

![端口轉發](/attachments/vscode/port-forwarding/01.panel.png)

![端口轉發](/attachments/vscode/port-forwarding/02.input.png)

如果這是你第一次使用此功能，系統會提示你登錄GitHub賬戶並授權訪問。

![端口轉發](/attachments/vscode/port-forwarding/03.sign-in.png)

如果你使用的是MacOS，系統還會提示你授權VSCode訪問鑰匙串。只需輸入你的密碼並點擊"允許"。

![端口轉發](/attachments/vscode/port-forwarding/04.keychain.png)

然後等待幾秒鐘，你會看到端口已成功轉發。

![端口轉發](/attachments/vscode/port-forwarding/05.success.png)

現在你可以通過轉發的URL訪問本地開發環境。例如，如果你轉發了端口`8080`，你可以通過`https://xxx-1234.asse.devtunnels.ms`訪問它（URL可能會不同）。

![端口轉發](/attachments/vscode/port-forwarding/06.authorize.png)

如你所見，當你訪問這個轉發的URL時，它仍然需要授權。只需點擊"授權"。這在大多數情況下滿足我們的需求，並確保我們本地開發環境的安全。

但如果你希望外部世界無需授權就能訪問你的本地開發環境，例如，一個API端點或webhook，你可以在VSCode的"端口"面板中找到該記錄，右鍵點擊它，然後將其設為公開。

> 請注意：將你的本地開發環境暴露給外部世界可能會導致安全風險。在執行此操作之前，請確保你了解風險。

最後，記得在完成後關閉端口轉發。

## 結論

在本文中，我們介紹了VSCode中的端口轉發功能。此功能允許你從外部世界訪問你的本地或遠程開發環境。它對於測試和調試非常有用。但在將本地開發環境暴露給外部世界時請小心，因為這可能會導致安全風險。