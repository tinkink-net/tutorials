# Tmux 速查表

<Validator lang="zh-hant" :platform-list="['Ubuntu 22.04','Debian 11.6','CentOS 7.9','MacOS 13.2']" date="2023-05-01" />

這個速查表提供了最常用的tmux命令的快速參考。所有命令都需要先按前綴鍵（預設為`Ctrl+b`），然後再按命令鍵。

## 會話管理

| 命令 | 描述 |
|---------|-------------|
| `tmux` | 啟動一個新的tmux會話 |
| `tmux new -s name` | 啟動一個新的命名會話 |
| `tmux ls` | 列出所有會話 |
| `tmux attach -t name` | 連接到一個命名會話 |
| `tmux kill-session -t name` | 終止一個命名會話 |
| `tmux kill-server` | 終止所有會話和tmux伺服器 |

## 前綴鍵組合

以下所有命令都需要先按前綴鍵（預設為`Ctrl+b`）：

### 會話命令
| 鍵 | 描述 |
|-----|-------------|
| `d` | 從當前會話分離 |
| `s` | 列出會話 |
| `$` | 重命名會話 |
| `(` | 切換到上一個會話 |
| `)` | 切換到下一個會話 |

### 視窗命令
| 鍵 | 描述 |
|-----|-------------|
| `c` | 創建新視窗 |
| `n` | 下一個視窗 |
| `p` | 上一個視窗 |
| `w` | 列出視窗 |
| `,` | 重命名當前視窗 |
| `&` | 關閉當前視窗 |
| `0-9` | 切換到視窗編號 |

### 窗格命令
| 鍵 | 描述 |
|-----|-------------|
| `%` | 垂直分割窗格 |
| `"` | 水平分割窗格 |
| `o` | 切換到下一個窗格 |
| `;` | 切換到上一個活動窗格 |
| `x` | 關閉當前窗格 |
| `z` | 切換窗格縮放 |
| `{` | 將當前窗格向左移動 |
| `}` | 將當前窗格向右移動 |
| `space` | 在窗格佈局之間切換 |
| `q` | 顯示窗格編號 |
| `Up/Down/Left/Right` | 切換到指定方向的窗格（滑鼠模式下） |

### 複製模式
| 鍵 | 描述 |
|-----|-------------|
| `[` | 進入複製模式 |
| `]` | 貼上複製的文本 |
| `PgUp/PgDn` | 在複製模式中上/下翻頁 |
| `/` | 向前搜索 |
| `?` | 向後搜索 |

## 高級窗格管理

| 命令 | 描述 |
|---------|-------------|
| `Ctrl+b Ctrl+o` | 向前旋轉窗格 |
| `Ctrl+b !` | 將窗格轉換為視窗 |
| `Ctrl+b Ctrl+Left/Right/Up/Down` | 調整窗格大小 |
| `Ctrl+b Alt+1` | 均勻分佈窗格 |
| `Ctrl+b q` | 顯示窗格編號（臨時） |

## 複製模式導航（Vim風格）

在複製模式下（`Ctrl+b [`），你可以使用vim風格的導航：

| 鍵 | 描述 |
|-----|-------------|
| `h/j/k/l` | 左/下/上/右移動 |
| `w/W` | 移動到下一個單詞/下一個單詞的開始 |
| `b/B` | 移動到上一個單詞/上一個單詞的開始 |
| `0/^` | 移動到行首 |
| `$` | 移動到行尾 |
| `H/M/L` | 移動到螢幕頂部/中部/底部 |
| `gg/G` | 移動到緩衝區頂部/底部 |
| `Ctrl+u/d` | 上/下移動半頁 |
| `Ctrl+b/f` | 上/下翻頁 |

## 複製模式操作

| 鍵 | 描述 |
|-----|-------------|
| `Space` | 開始選擇 |
| `Enter` | 複製選擇 |
| `Esc` | 清除選擇 |
| `v` | 開始字符模式選擇 |
| `V` | 開始行模式選擇 |
| `Ctrl+v` | 開始塊模式選擇 |

## 自定義技巧

### 更改前綴鍵
要將前綴鍵從`Ctrl+b`更改為`Ctrl+a`（類似GNU Screen），將以下內容添加到`~/.tmux.conf`：
```bash
unbind C-b
set -g prefix C-a
bind C-a send-prefix
```

### 啟用滑鼠支持
```bash
set -g mouse on
```

### 重新加載配置
修改`~/.tmux.conf`後：
```sh
Ctrl+b : source-file ~/.tmux.conf
```

## 狀態欄自定義

`~/.tmux.conf`中常見的狀態欄自定義：

```bash
# 更改狀態欄顏色
set -g status-style bg=blue,fg=white

# 顯示系統狀態
set -g status-right "#[fg=white,bg=black] #H #[fg=white,bg=blue] %H:%M %d-%b-%y "

# 使用更好的格式顯示視窗列表
set -g status-justify centre
setw -g window-status-format "#I:#W#F"
setw -g window-status-current-format "#I:#W#F"
```

## 快速參考摘要

- **前綴鍵**：`Ctrl+b`（預設）
- **創建會話**：`tmux new -s session_name`
- **分離**：`Ctrl+b d`
- **重新連接**：`tmux attach -t session_name`
- **新視窗**：`Ctrl+b c`
- **分割窗格**：`Ctrl+b %`（垂直）或`Ctrl+b "`（水平）
- **切換窗格**：`Ctrl+b o`或方向鍵（滑鼠模式下）
- **複製模式**：`Ctrl+b [`
- **貼上**：`Ctrl+b ]`

這個速查表涵蓋了最基本的tmux命令。有了這些，你將能夠高效地管理多個終端會話和工作流程。