# Git の基本と用語の理解

## はじめに

Git は、ソフトウェア開発中のソースコードの変更を追跡する分散型バージョン管理システムです。実際の Git の使用法に入る前に、Git の仕組みの基礎となる基本的な概念と用語を理解することが不可欠です。

このチュートリアルでは、すべての Git ユーザーが理解すべき中核的な概念を説明し、Git を効果的に使用するための堅固な基盤を提供します。

## バージョン管理とは？

バージョン管理は、時間の経過とともにファイルへの変更を記録するシステムで、後で特定のバージョンを呼び出すことができます。これにより以下のことが可能になります：

- コードの変更を追跡する
- 他の開発者と協力する
- 必要に応じて以前のバージョンに戻す
- 何が変更されたか、いつ変更されたか、誰が変更したかを理解する
- プロジェクトの異なるバージョンを同時に維持する

## Git と他のバージョン管理システムの比較

### 集中型 vs. 分散型

従来のバージョン管理システム（CVS、Subversion など）は**集中型**です：
- 単一の中央サーバーがすべてのバージョンを保存する
- 開発者は中央リポジトリからファイルをチェックアウトする
- サーバーがダウンすると、コラボレーションが停止する

Git は**分散型**です：
- すべての開発者がプロジェクト履歴の完全なコピーを持つ
- オフラインで作業し、後で変更を同期できる
- 単一障害点がない
- 複数のバックアップコピーが自然に存在する

## Git の中核概念

### リポジトリ（Repo）

**リポジトリ**はプロジェクトが存在するストレージスペースです。以下を含みます：
- すべてのプロジェクトファイル
- 変更の完全な履歴
- ブランチとタグ
- 設定情報

リポジトリの種類：
- **ローカルリポジトリ**：あなたのコンピュータ上
- **リモートリポジトリ**：サーバー上（GitHub、GitLab など）

### 作業ディレクトリ

**作業ディレクトリ**は、現在プロジェクトファイルを操作しているコンピュータ上のフォルダです。ファイルの編集、作成、削除を行う場所です。

### ステージングエリア（インデックス）

**ステージングエリア**は、次のコミットに含まれる内容に関する情報を保存するファイルです。次のコミットのプレビューのようなものです。

ショッピングカートのように考えてください：
- アイテム（変更）をカート（ステージングエリア）に追加する
- 準備ができたら、カート内のすべてをチェックアウト（コミット）する

### コミット

**コミット**は、特定の時点でのプロジェクトのスナップショットです。各コミットには以下が含まれます：
- 一意の識別子（ハッシュ）
- 作成者情報
- タイムスタンプ
- 変更を説明するコミットメッセージ
- 前のコミットへのポインタ

### ブランチ

**ブランチ**は、特定のコミットを指す軽量で移動可能なポインタです。これにより以下が可能になります：
- 異なる機能を同時に作業する
- メインコードベースに影響を与えずに実験する
- 別の機能で他の人と協力する

デフォルトのブランチは通常 `main` または `master` と呼ばれます。

### HEAD

**HEAD** は、現在作業しているブランチを参照するポインタです。現在どのコミットを見ているかを Git に伝えます。

## Git ワークフローの状態

Git ファイルは主に3つの状態で存在できます：

### 1. 変更済み（Modified）
- ファイルが変更されたがコミットされていない
- 変更は作業ディレクトリにのみ存在する

### 2. ステージング済み（Staged）
- 次のコミットに含めるためにマークされたファイル
- 変更はステージングエリアにある

### 3. コミット済み（Committed）
- ファイルがローカルリポジトリに安全に保存されている
- 変更はプロジェクト履歴の一部になっている

## Git の3つの領域

これら3つの領域を理解することは Git をマスターするために重要です：

```
作業ディレクトリ → ステージングエリア → リポジトリ
   （変更）         （ステージング）    （コミット）
```

### 作業ディレクトリ
- ファイルを編集する場所
- プロジェクトの1つのバージョンを含む
- ファイルは変更、追加、削除できる

### ステージングエリア
- 次のコミットに含まれる内容に関する情報を保存する
- 「インデックス」とも呼ばれる
- 各コミットに何を含めるかを正確に設計できる

### リポジトリ
- Git がメタデータとオブジェクトデータベースを保存する場所
- プロジェクトのすべてのバージョンを含む
- プロジェクトルートの `.git` フォルダ

## 重要な Git 用語

### クローン
リモートリポジトリのローカルコピーをコンピュータに作成すること。

### フォーク
GitHub などのホスティングサービス上で他の人のリポジトリの個人的なコピーを作成すること。

### プル
リモートリポジトリから変更を取得し、現在のブランチにマージすること。

### プッシュ
ローカルのコミットをリモートリポジトリにアップロードすること。

### マージ
異なるブランチからの変更を単一のブランチに結合すること。

### リベース
あるブランチから別のブランチにコミットを移動または結合し、線形の履歴を作成すること。

### タグ
特定のコミットへの参照で、通常リリースポイントをマークするために使用されます。

### リモート
コラボレーションに使用される、サーバー上でホストされているリポジトリのバージョン。

### オリジン
クローン元のリモートリポジトリのデフォルト名。

### アップストリーム
フォークベースのワークフローでフォーク元のオリジナルリポジトリ。

## Git オブジェクトタイプ

Git はデータベース内のすべてをオブジェクトとして保存します：

### 1. ブロブ（Binary Large Object）
- ファイルの内容を保存する
- ファイル名やディレクトリ構造は含まない

### 2. ツリー
- ディレクトリを表す
- ブロブや他のツリーへの参照を含む
- ファイル名と権限を保存する

### 3. コミット
- ツリーオブジェクトを指す
- メタデータ（作成者、タイムスタンプ、メッセージ）を含む
- 親コミットを参照する

### 4. タグ
- コミットを指す
- 追加のメタデータを含む
- 通常リリース用に使用される

## 一般的な Git コマンドの概要

以下は最もよく使用される Git コマンドとその目的です：

### リポジトリ操作
- `git init` - 新しいリポジトリを初期化する
- `git clone` - リモートからローカルにリポジトリをコピーする
- `git status` - 作業ディレクトリの状態を確認する

### 基本的なワークフロー
- `git add` - コミット用に変更をステージングする
- `git commit` - 変更をリポジトリに保存する
- `git push` - 変更をリモートリポジトリにアップロードする
- `git pull` - リモートリポジトリから変更をダウンロードする

### ブランチ操作
- `git branch` - ブランチの一覧表示、作成、削除
- `git checkout` - ブランチの切り替えまたはファイルの復元
- `git merge` - あるブランチから別のブランチに変更をマージする

### 情報コマンド
- `git log` - コミット履歴を表示する
- `git diff` - コミット間、ブランチ間などの変更を表示する
- `git show` - コミットに関する情報を表示する

## Git を理解するためのベストプラクティス

### 1. スナップショットで考える
Git は差分を保存するのではなく、各コミット時にプロジェクト全体のスナップショットを保存します。

### 2. コミットは安価
頻繁にコミットすることを恐れないでください。小さく焦点を絞ったコミットは理解と管理が容易です。

### 3. 意味のあるコミットメッセージを使用する
何が変更されたか、なぜ変更されたかを説明する明確で説明的なコミットメッセージを書きましょう。

### 4. 3つの状態を理解する
ファイルがどの状態にあるか（変更済み、ステージング済み、コミット済み）を常に意識しましょう。

### 5. 早めに頻繁にブランチを使用する
機能、実験、バグ修正にはブランチを使用しましょう。ブランチは軽量で扱いやすいです。

## まとめ

Git の中核概念と用語を理解することは、効果的なバージョン管理に不可欠です。重要なポイント：

- **Git は分散型**：すべてのコピーが完全なリポジトリ
- **3つの状態**：変更済み、ステージング済み、コミット済み
- **3つの領域**：作業ディレクトリ、ステージングエリア、リポジトリ
- **コミットはスナップショット**：差分ではなく、プロジェクトの完全な状態
- **ブランチはポインタ**：コミットへの軽量な参照
- **HEAD は位置を追跡**：プロジェクト履歴内のどこにいるかを示す

これらの基本概念を理解したら、Git を効果的に使い始める準備ができています。次のチュートリアルでは、最初の Git リポジトリを作成し、基本的な操作を実行する方法を説明します。

## 次のステップ

Git の基本と用語を理解したら、次に進むことができます：
1. [最初の Git リポジトリの作成](./creating-your-first-git-repository.md)
2. [基本的な Git ワークフロー：追加、コミット、プッシュ](./basic-git-workflow-add-commit-push.md)
3. [Git ブランチの理解](./understanding-git-branches.md)

## 関連リソース

- [Git のインストールとセットアップ](./git-installation-and-setup.md)
- [異なるプロジェクトで異なる Git 設定を使用する](./git-using-different-config-in-different-projects.md)
- [公式 Git ドキュメント](https://git-scm.com/doc)
- [Pro Git ブック](https://git-scm.com/book)