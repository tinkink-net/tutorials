# Tmux チートシート

<Validator lang="ja" :platform-list="['Ubuntu 22.04','Debian 11.6','CentOS 7.9','MacOS 13.2']" date="2023-05-01" />

このチートシートは、最もよく使用されるtmuxコマンドのクイックリファレンスを提供します。すべてのコマンドは、最初にプレフィックスキー（デフォルトでは`Ctrl+b`）を押し、その後にコマンドキーを押す必要があります。

## セッション管理

| コマンド | 説明 |
|---------|-------------|
| `tmux` | 新しいtmuxセッションを開始 |
| `tmux new -s name` | 名前付きの新しいセッションを開始 |
| `tmux ls` | すべてのセッションをリスト表示 |
| `tmux attach -t name` | 名前付きセッションにアタッチ |
| `tmux kill-session -t name` | 名前付きセッションを終了 |
| `tmux kill-server` | すべてのセッションとtmuxサーバーを終了 |

## プレフィックスキーの組み合わせ

以下のすべてのコマンドは、最初にプレフィックスキー（デフォルトでは`Ctrl+b`）を押す必要があります：

### セッションコマンド
| キー | 説明 |
|-----|-------------|
| `d` | 現在のセッションからデタッチ |
| `s` | セッションをリスト表示 |
| `$` | セッションの名前を変更 |
| `(` | 前のセッションに切り替え |
| `)` | 次のセッションに切り替え |

### ウィンドウコマンド
| キー | 説明 |
|-----|-------------|
| `c` | 新しいウィンドウを作成 |
| `n` | 次のウィンドウ |
| `p` | 前のウィンドウ |
| `w` | ウィンドウをリスト表示 |
| `,` | 現在のウィンドウの名前を変更 |
| `&` | 現在のウィンドウを閉じる |
| `0-9` | 番号でウィンドウを切り替え |

### ペインコマンド
| キー | 説明 |
|-----|-------------|
| `%` | ペインを垂直に分割 |
| `"` | ペインを水平に分割 |
| `o` | 次のペインに切り替え |
| `;` | 最後にアクティブだったペインに切り替え |
| `x` | 現在のペインを閉じる |
| `z` | ペインのズームを切り替え |
| `{` | 現在のペインを左に移動 |
| `}` | 現在のペインを右に移動 |
| `space` | ペインレイアウトを切り替え |
| `q` | ペイン番号を表示 |
| `Up/Down/Left/Right` | 指定した方向のペインに切り替え（マウスモード使用時） |

### コピーモード
| キー | 説明 |
|-----|-------------|
| `[` | コピーモードに入る |
| `]` | コピーしたテキストを貼り付け |
| `PgUp/PgDn` | コピーモードでページアップ/ダウン |
| `/` | 前方検索 |
| `?` | 後方検索 |

## 高度なペイン管理

| コマンド | 説明 |
|---------|-------------|
| `Ctrl+b Ctrl+o` | ペインを前方に回転 |
| `Ctrl+b !` | ペインをウィンドウに変換 |
| `Ctrl+b Ctrl+Left/Right/Up/Down` | ペインのサイズ変更 |
| `Ctrl+b Alt+1` | ペインを均等に配置 |
| `Ctrl+b q` | ペイン番号を表示（一時的） |

## コピーモードのナビゲーション（Vimスタイル）

コピーモード（`Ctrl+b [`）では、Vimスタイルのナビゲーションが使用できます：

| キー | 説明 |
|-----|-------------|
| `h/j/k/l` | 左/下/上/右に移動 |
| `w/W` | 次の単語/次の単語の先頭に移動 |
| `b/B` | 前の単語/前の単語の先頭に移動 |
| `0/^` | 行の先頭に移動 |
| `$` | 行の末尾に移動 |
| `H/M/L` | 画面の上部/中央/下部に移動 |
| `gg/G` | バッファの先頭/末尾に移動 |
| `Ctrl+u/d` | 半ページ上/下に移動 |
| `Ctrl+b/f` | ページ上/下に移動 |

## コピーモードの操作

| キー | 説明 |
|-----|-------------|
| `Space` | 選択開始 |
| `Enter` | 選択をコピー |
| `Esc` | 選択をクリア |
| `v` | 文字モードで選択開始 |
| `V` | 行モードで選択開始 |
| `Ctrl+v` | ブロックモードで選択開始 |

## カスタマイズのヒント

### プレフィックスキーの変更
プレフィックスキーを`Ctrl+b`から`Ctrl+a`（GNU Screenのように）に変更するには、`~/.tmux.conf`に以下を追加します：
```bash
unbind C-b
set -g prefix C-a
bind C-a send-prefix
```

### マウスサポートの有効化
```bash
set -g mouse on
```

### 設定の再読み込み
`~/.tmux.conf`を変更した後：
```sh
Ctrl+b : source-file ~/.tmux.conf
```

## ステータスバーのカスタマイズ

`~/.tmux.conf`の一般的なステータスバーカスタマイズ：

```bash
# ステータスバーの色を変更
set -g status-style bg=blue,fg=white

# システム統計を表示
set -g status-right "#[fg=white,bg=black] #H #[fg=white,bg=blue] %H:%M %d-%b-%y "

# より良いフォーマットでウィンドウリストを表示
set -g status-justify centre
setw -g window-status-format "#I:#W#F"
setw -g window-status-current-format "#I:#W#F"
```

## クイックリファレンスサマリー

- **プレフィックスキー**: `Ctrl+b`（デフォルト）
- **セッション作成**: `tmux new -s セッション名`
- **デタッチ**: `Ctrl+b d`
- **再アタッチ**: `tmux attach -t セッション名`
- **新しいウィンドウ**: `Ctrl+b c`
- **ペイン分割**: `Ctrl+b %`（垂直）または`Ctrl+b "`（水平）
- **ペイン切り替え**: `Ctrl+b o`または矢印キー（マウスモード使用時）
- **コピーモード**: `Ctrl+b [`
- **貼り付け**: `Ctrl+b ]`

このチートシートは最も重要なtmuxコマンドをカバーしています。これらを使用することで、複数のターミナルセッションとワークフローを効率的に管理できるようになります。